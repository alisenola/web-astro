---
tab: "projects"
priority: "0.80"

// import  * as YAML from 'js-yaml';
// const fs = require('fs');

// // Get document, or throw exception on error
// try {
//   const doc = yaml.load(fs.readFileSync('/home/ixti/example.yml', 'utf8'));
//   console.log(doc);
// } catch (e) {
//   console.log(e);
// }

const data = await Astro.glob('../data/project_index.yml');
console.log(data);
// import * as test from aaa;
---



<!-- let allPosts = await Astro.glob('./posts/*.md');
allPosts = allPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());

<section aria-label="Blog post list">
	{allPosts.map((p) => <BlogPostPreview post={p} />)}
</section> -->


<!-- <% content_for(:title, "Projects") %> -->
<!-- <% content_for(:description, "Portfolio of my 3D art and programming projects and experiments along with a breakdown of the creative process and technical challenges tied to each of them.") %> -->
<!-- <% content_for(:page_image, "https://#{config.domain}/assets/social.jpg") %> -->

<div class="project-grid">
	<div>Hello</div>
	<div>
    {data[0]["default"].map(function(object, i){
        return <div>{i}: {object}</div>;
    })}
	</div>
	<!-- <% data.project_index.each do |project_name| %>
		<%= partial 'partials/components/project_tile', :locals => {
			:project_name => project_name,
			:project => data.projects[project_name]
		} %>
	<% end %>
	<%
		# Fill the rest of the last row with dummy tiles
		columns = 3
		gaps = (columns - (data.project_index.length % columns)) % columns
		while gaps > 0 do
	%>
		<%= partial 'partials/components/dummy_project_tile' %>
		<% gaps -= 1 %>
	<% end %> -->
</div>