<%
	border_class = item.desc.present? ? 'border-radius-top' : 'border-radius-full'
	image_path = "/assets/projects/#{project_name}/#{item.data}"
	image_size = ImageSize.path('./src' + image_path)
%>
<div class="content-block">
	<div 
		id="img-<%= index %>"
		class="aspect-container <%= border_class %>"
		style="<%= partial "partials/system/loading" %>"
		data-width="<%= image_size.w %>"
		data-height="<%= image_size.h %>"
		data-first_padding="<%= index == 0 %>"
		data-desc_padding="<%= item.desc.present? %>"
		data-links_padding="<%= links_exist and index == 0 %>">
		<img
			alt="<%= project_name %>"
			class="project-detail-image <%= border_class %>"
			src="<%= image_path %>"
			onload="fadeIn(this)"
		>
		<%= partial "partials/components/media_controls", :locals => {
			:name => item.data,
			:path => image_path,
			:desc => item.desc.present?
		} %>
	</div>
	<% if item.desc.present? %>
		<p class="content-description textarea" data-target="img-<%= index %>"><%= item.desc %></p>
	<% end %>
</div>